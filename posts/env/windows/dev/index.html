<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Windows | 仍迟</title>
<meta name=keywords content="环境,windows"><meta name=description content="windows 环境配置"><meta name=author content="仍迟"><link rel=canonical href=https://rengchi.github.io/posts/env/windows/dev/><link crossorigin=anonymous href=/assets/css/stylesheet.45e028aa8ce0961349adf411b013ee39406be2c0bc80d4ea3fc04555f7f4611a.css integrity="sha256-ReAoqozglhNJrfQRsBPuOUBr4sC8gNTqP8BFVff0YRo=" rel="preload stylesheet" as=style><link rel=icon href=https://rengchi.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://rengchi.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://rengchi.github.io/favicon-32x32.png><link rel=apple-touch-icon href=https://rengchi.github.io/apple-touch-icon.png><link rel=mask-icon href=https://rengchi.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://rengchi.github.io/posts/env/windows/dev/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:url" content="https://rengchi.github.io/posts/env/windows/dev/"><meta property="og:site_name" content="仍迟"><meta property="og:title" content="Windows"><meta property="og:description" content="windows 环境配置"><meta property="og:locale" content="zh-cn"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2025-01-18T00:00:00+00:00"><meta property="article:modified_time" content="2025-01-18T00:00:00+00:00"><meta property="article:tag" content="环境"><meta property="article:tag" content="Windows"><meta name=twitter:card content="summary"><meta name=twitter:title content="Windows"><meta name=twitter:description content="windows 环境配置"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"📝文章","item":"https://rengchi.github.io/posts/"},{"@type":"ListItem","position":2,"name":"🌞环境","item":"https://rengchi.github.io/posts/env/"},{"@type":"ListItem","position":3,"name":"Windows","item":"https://rengchi.github.io/posts/env/windows/dev/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Windows","name":"Windows","description":"windows 环境配置","keywords":["环境","windows"],"articleBody":"!注：安装、日志等目录可根据自己的实际情况创建，不一定下面相同\ngo 国内下载（推荐） 官网下载\n下载完成并解压至 D:\\env\\go 并创建 D:\\proj\\go\ngo env -w GO111MODULE=on go env -w GOCACHE=D:\\log\\go\\go-build go env -w GOPROXY=https://proxy.golang.com.cn,direct go env -w GOPATH=D:\\proj\\go mysql 需要创建：D:\\log\\mysql D:\\data\\mysql 示例： mysql-8.0.40\nmysql 下载\n准备 解压至 D:\\env\\mysql 并新建 my.ini 文件\n[mysqld] # 数据库目录 datadir=D:\\\\data\\\\mysql # 端口 port=3306 # 默认字符集 character-set-server=utf8mb4 collation-server=utf8mb4_general_ci # 默认存储引擎 default-storage-engine=INNODB # INNODB 引擎配置 innodb_buffer_pool_size=512M innodb_log_file_size=128M innodb_file_per_table=1 innodb_flush_method=normal # 新的 redo log 容量配置，替代废弃项 innodb_log_file_size 和 innodb_log_files_in_group innodb_redo_log_capacity=268435456 # 日志 log_error=D:\\\\log\\\\mysql\\\\error.log # 记录慢查询 slow_query_log=1 slow_query_log_file=D:\\\\log\\\\mysql\\\\slow.log # 其他配置 tmp_table_size=64M max_heap_table_size=64M max_connections=150 thread_cache_size=10 table_open_cache=2000 open_files_limit=5000 # 启用 TLS 支持（如果有 SSL 证书） # ssl-ca=D:/path_to_your_ca.pem # ssl-cert=D:/path_to_your_cert.pem # ssl-key=D:/path_to_your_key.pem # MySQL 连接加密 # 注意：如果你使用 TLS 连接，确保正确配置证书 # 默认情况下会使用自签名证书，可以忽略警告，也可以替换为受信任证书 ssl=1 [client] # 客户端端口配置 port=3306 # 客户端默认字符集 default-character-set=utf8mb4 # 启用连接重试 # 用于客户端遇到连接问题时重新连接 reconnect=1 安装 使用 管理员 打开命令窗口\n# 初始化并获取默认密码 D:\\env\\mysql\\bin\u003e .\\mysqld.exe --initialize --console # 安装到服务中 --install [自定义服务名称]，可以在服务中设置开机自动启动 D:\\env\\mysql\\bin\u003e .\\mysqld.exe --install mysqld --defaults-file=\"D:\\env\\mysql\\my.ini\" # 连接 MySQL 并初始化密码 D:\\env\\mysql\\bin\u003e.\\mysql.exe -u root -P 3306 -p Enter password: 这里输入上面的密码 ... # mysql8 修改密码 ALTER USER 'root'@'localhost' IDENTIFIED WITH caching_sha2_password BY 'your_password'; FLUSH PRIVILEGES; php 示例：PHP 8.4 (8.4.3) VS17 x64 Non Thread Safe (2025-Jan-15 11:07:36)\nphp 下载\n问题 PS D:\\\u003e php -v PHP Warning: 'C:\\Windows\\SYSTEM32\\VCRUNTIME140.dll' 14.15 is not compatible with this PHP build linked with 14.42 in Unknown on line 0 问题解决\nPS D:\\\u003e php -v PHP 8.4.3 (cli) (built: Jan 15 2025 11:02:41) (NTS Visual C++ 2022 x64) Copyright (c) The PHP Group Zend Engine v4.4.3, Copyright (c) Zend Technologies 配置 # 763~764行 On windows: extension_dir = \"D:\\env\\php\\ext\" # 801行 cgi.fix_pathinfo=1 # 964 行 date.timezone = \"Asia/Shanghai\" # extension，根据实际开发需求 extension=curl extension=openssl extension=pdo_mysql extension=mbstring extension=gd extension=zip extension=exif extension=intl extension=mysqli extension=pgsql extension=odbc extension=xdebug ; 如果你使用调试工具 Composer 安装 下载安装\nPS D:\\env\\composer\u003e php -r \"copy('https://install.phpcomposer.com/installer', 'composer-setup.php');\" PS D:\\env\\composer\u003e php composer-setup.php All settings correct for using Composer Downloading... Composer (version 2.8.4) successfully installed to: D:\\env\\composer\\composer.phar Use it: php composer.phar PS D:\\env\\composer\u003e php .\\composer.phar --version Composer version 2.8.4 2024-12-11 11:57:47 PHP version 8.4.3 (D:\\env\\php\\php.exe) Run the \"diagnose\" command to get more detailed diagnostics output. composer.bat 新建 D:\\env\\composer\\composer.bat 文件并配置 D:\\env\\composer 到环境变量中\n@php \"%~dp0composer.phar\" %* PS D:\\\u003e composer --version Composer version 2.8.4 2024-12-11 11:57:47 PHP version 8.4.3 (D:\\env\\php\\php.exe) Run the \"diagnose\" command to get more detailed diagnostics output. openresty 官网 github latest\n下载 openresty-1.27.1.1-win64.zip 并解压至 D:\\env\\openresty\n使用 # 启动 PS D:\\env\\openresty\u003e .\\nginx.exe # 停止（需在另一个命令窗口中） PS D:\\env\\openresty\u003e .\\nginx.exe -s stop # 测试配置（需在另一个命令窗口中） PS D:\\env\\openresty\u003e .\\nginx.exe -t nginx: the configuration file ./conf/nginx.conf syntax is ok nginx: configuration file ./conf/nginx.conf test is successful # 重载（需在另一个命令窗口中），需要先执行启动 PS D:\\env\\openresty\u003e .\\nginx.exe -s reload openresty + php 推荐使用 phpstudy\n创建 D:\\env\\openresty\\conf\\conf.d 目录，并创建 php.conf 文件\n# openresty + php 测试 server { listen 2025; server_name localhost; location / { root D:\\\\proj\\\\php\\\\demo; index index.php index.html index.htm; try_files $uri $uri/ =404; } location ~ \\.php$ { root D:\\\\proj\\\\php\\\\demo; include fastcgi_params; fastcgi_pass 127.0.0.1:9008; # 确保 PHP-FPM 监听端口正确 fastcgi_index index.php; fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name; fastcgi_param PATH_INFO $fastcgi_script_name; } # 配置错误日志和访问日志 error_log D:\\\\log\\\\php\\\\demo-error.log; access_log D:\\\\log\\\\php\\\\demo-access.log; } 修改 D:\\env\\openresty\\conf\\nginx.conf ，在 http {…} 中添加一行\ninclude conf.d\\\\php.conf; 测试\n# php-cgi 启动 PS D:\\env\\php\u003e .\\php-cgi.exe -b 9000 # 重新加载 openresty PS D:\\env\\openresty\u003e .\\nginx.exe -s reload D:\\proj\\php\\demo 中添加 index.php url-test\\test.php\n# index.php \u003c?php echo phpinfo(); # url-test/test.php \u003c?php echo 'url-test'; 访问 http://localhost:2025 http://localhost:2025/url-test/test.php\n","wordCount":"505","inLanguage":"en","datePublished":"2025-01-18T00:00:00Z","dateModified":"2025-01-18T00:00:00Z","author":{"@type":"Person","name":"仍迟"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://rengchi.github.io/posts/env/windows/dev/"},"publisher":{"@type":"Organization","name":"仍迟","logo":{"@type":"ImageObject","url":"https://rengchi.github.io/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://rengchi.github.io/ accesskey=h title="仍迟 (Alt + H)">仍迟</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://rengchi.github.io/archives/ title=🌠归档><span>🌠归档</span></a></li><li><a href=https://rengchi.github.io/search/ title=🔍搜索><span>🔍搜索</span></a></li><li><a href=https://rengchi.github.io/tags/ title=📌标签><span>📌标签</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class="post-title entry-hint-parent">Windows</h1><div class=post-description>windows 环境配置</div><div class=post-meta><span title='2025-01-18 00:00:00 +0000 UTC'>2025年01月18日</span>&nbsp;·&nbsp;仍迟</div></header><div class=post-content><p><strong><em>!注：安装、日志等目录可根据自己的实际情况创建，不一定下面相同</em></strong></p><h1 id=go>go<a hidden class=anchor aria-hidden=true href=#go>#</a></h1><p><a href=https://golang.google.cn/dl>国内下载（推荐）</a> <a href=https://go.dev/dl>官网下载</a></p><blockquote><p>下载完成并解压至 <code>D:\env\go</code> 并创建 <code>D:\proj\go</code></p></blockquote><pre tabindex=0><code>go env -w GO111MODULE=on
go env -w GOCACHE=D:\log\go\go-build
go env -w GOPROXY=https://proxy.golang.com.cn,direct
go env -w GOPATH=D:\proj\go
</code></pre><h1 id=mysql>mysql<a hidden class=anchor aria-hidden=true href=#mysql>#</a></h1><blockquote><p>需要创建：<code>D:\log\mysql</code> <code>D:\data\mysql</code> 示例： mysql-8.0.40</p></blockquote><p><a href=https://dev.mysql.com/downloads/mysql/>mysql 下载</a></p><h2 id=准备>准备<a hidden class=anchor aria-hidden=true href=#准备>#</a></h2><p>解压至 <code>D:\env\mysql</code> 并新建 <code>my.ini</code> 文件</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ini data-lang=ini><span style=display:flex><span><span style=color:#66d9ef>[mysqld]</span>
</span></span><span style=display:flex><span><span style=color:#75715e># 数据库目录</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>datadir</span><span style=color:#f92672>=</span><span style=color:#e6db74>D:\\data\\mysql</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 端口</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>port</span><span style=color:#f92672>=</span><span style=color:#e6db74>3306</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 默认字符集</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>character-set-server</span><span style=color:#f92672>=</span><span style=color:#e6db74>utf8mb4</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>collation-server</span><span style=color:#f92672>=</span><span style=color:#e6db74>utf8mb4_general_ci</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 默认存储引擎</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>default-storage-engine</span><span style=color:#f92672>=</span><span style=color:#e6db74>INNODB</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># INNODB 引擎配置</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>innodb_buffer_pool_size</span><span style=color:#f92672>=</span><span style=color:#e6db74>512M</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>innodb_log_file_size</span><span style=color:#f92672>=</span><span style=color:#e6db74>128M</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>innodb_file_per_table</span><span style=color:#f92672>=</span><span style=color:#e6db74>1</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>innodb_flush_method</span><span style=color:#f92672>=</span><span style=color:#e6db74>normal</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 新的 redo log 容量配置，替代废弃项 innodb_log_file_size 和 innodb_log_files_in_group</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>innodb_redo_log_capacity</span><span style=color:#f92672>=</span><span style=color:#e6db74>268435456</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 日志</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>log_error</span><span style=color:#f92672>=</span><span style=color:#e6db74>D:\\log\\mysql\\error.log</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 记录慢查询</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>slow_query_log</span><span style=color:#f92672>=</span><span style=color:#e6db74>1</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>slow_query_log_file</span><span style=color:#f92672>=</span><span style=color:#e6db74>D:\\log\\mysql\\slow.log</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 其他配置</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>tmp_table_size</span><span style=color:#f92672>=</span><span style=color:#e6db74>64M</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>max_heap_table_size</span><span style=color:#f92672>=</span><span style=color:#e6db74>64M</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>max_connections</span><span style=color:#f92672>=</span><span style=color:#e6db74>150</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>thread_cache_size</span><span style=color:#f92672>=</span><span style=color:#e6db74>10</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>table_open_cache</span><span style=color:#f92672>=</span><span style=color:#e6db74>2000</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>open_files_limit</span><span style=color:#f92672>=</span><span style=color:#e6db74>5000</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 启用 TLS 支持（如果有 SSL 证书）</span>
</span></span><span style=display:flex><span><span style=color:#75715e># ssl-ca=D:/path_to_your_ca.pem</span>
</span></span><span style=display:flex><span><span style=color:#75715e># ssl-cert=D:/path_to_your_cert.pem</span>
</span></span><span style=display:flex><span><span style=color:#75715e># ssl-key=D:/path_to_your_key.pem</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># MySQL 连接加密</span>
</span></span><span style=display:flex><span><span style=color:#75715e># 注意：如果你使用 TLS 连接，确保正确配置证书</span>
</span></span><span style=display:flex><span><span style=color:#75715e># 默认情况下会使用自签名证书，可以忽略警告，也可以替换为受信任证书</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>ssl</span><span style=color:#f92672>=</span><span style=color:#e6db74>1</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>[client]</span>
</span></span><span style=display:flex><span><span style=color:#75715e># 客户端端口配置</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>port</span><span style=color:#f92672>=</span><span style=color:#e6db74>3306</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 客户端默认字符集</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>default-character-set</span><span style=color:#f92672>=</span><span style=color:#e6db74>utf8mb4</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 启用连接重试</span>
</span></span><span style=display:flex><span><span style=color:#75715e># 用于客户端遇到连接问题时重新连接</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>reconnect</span><span style=color:#f92672>=</span><span style=color:#e6db74>1</span>
</span></span></code></pre></div><h2 id=安装>安装<a hidden class=anchor aria-hidden=true href=#安装>#</a></h2><blockquote><p>使用 <code>管理员</code> 打开命令窗口</p></blockquote><pre tabindex=0><code># 初始化并获取默认密码
D:\env\mysql\bin&gt; .\mysqld.exe --initialize --console

# 安装到服务中 --install [自定义服务名称]，可以在服务中设置开机自动启动
D:\env\mysql\bin&gt; .\mysqld.exe --install mysqld --defaults-file=&#34;D:\env\mysql\my.ini&#34;

# 连接 MySQL 并初始化密码
D:\env\mysql\bin&gt;.\mysql.exe -u root -P 3306 -p
Enter password: 这里输入上面的密码

...

# mysql8 修改密码
ALTER USER &#39;root&#39;@&#39;localhost&#39; IDENTIFIED WITH caching_sha2_password BY &#39;your_password&#39;;
FLUSH PRIVILEGES;
</code></pre><h1 id=php>php<a hidden class=anchor aria-hidden=true href=#php>#</a></h1><blockquote><p>示例：PHP 8.4 (8.4.3) VS17 x64 Non Thread Safe (2025-Jan-15 11:07:36)</p></blockquote><p><a href=https://windows.php.net>php 下载</a></p><h2 id=问题>问题<a hidden class=anchor aria-hidden=true href=#问题>#</a></h2><pre tabindex=0><code>PS D:\&gt; php -v
PHP Warning:  &#39;C:\Windows\SYSTEM32\VCRUNTIME140.dll&#39; 14.15 is not compatible with this PHP build linked with 14.42 in Unknown on line 0
</code></pre><p><a href="https://learn.microsoft.com/en-us/cpp/windows/latest-supported-vc-redist?view=msvc-170">问题解决</a></p><pre tabindex=0><code>PS D:\&gt; php -v
PHP 8.4.3 (cli) (built: Jan 15 2025 11:02:41) (NTS Visual C++ 2022 x64)
Copyright (c) The PHP Group
Zend Engine v4.4.3, Copyright (c) Zend Technologies
</code></pre><h2 id=配置>配置<a hidden class=anchor aria-hidden=true href=#配置>#</a></h2><pre tabindex=0><code># 763~764行
On windows:
extension_dir = &#34;D:\env\php\ext&#34;

# 801行
cgi.fix_pathinfo=1

# 964 行
date.timezone = &#34;Asia/Shanghai&#34;

# extension，根据实际开发需求
extension=curl
extension=openssl
extension=pdo_mysql
extension=mbstring
extension=gd
extension=zip
extension=exif
extension=intl
extension=mysqli
extension=pgsql
extension=odbc
extension=xdebug   ; 如果你使用调试工具
</code></pre><h2 id=composer-安装>Composer 安装<a hidden class=anchor aria-hidden=true href=#composer-安装>#</a></h2><p><a href=https://pkg.xyz/#how-to-install-composer>下载安装</a></p><pre tabindex=0><code>PS D:\env\composer&gt; php -r &#34;copy(&#39;https://install.phpcomposer.com/installer&#39;, &#39;composer-setup.php&#39;);&#34;
PS D:\env\composer&gt; php composer-setup.php
All settings correct for using Composer
Downloading...

Composer (version 2.8.4) successfully installed to: D:\env\composer\composer.phar
Use it: php composer.phar

PS D:\env\composer&gt; php .\composer.phar --version
Composer version 2.8.4 2024-12-11 11:57:47
PHP version 8.4.3 (D:\env\php\php.exe)
Run the &#34;diagnose&#34; command to get more detailed diagnostics output.
</code></pre><h3 id=composerbat>composer.bat<a hidden class=anchor aria-hidden=true href=#composerbat>#</a></h3><blockquote><p>新建 <code>D:\env\composer\composer.bat</code> 文件并配置 <code>D:\env\composer</code> 到环境变量中</p></blockquote><pre tabindex=0><code>@php &#34;%~dp0composer.phar&#34; %*
</code></pre><pre tabindex=0><code>PS D:\&gt; composer --version
Composer version 2.8.4 2024-12-11 11:57:47
PHP version 8.4.3 (D:\env\php\php.exe)
Run the &#34;diagnose&#34; command to get more detailed diagnostics output.
</code></pre><h1 id=openresty>openresty<a hidden class=anchor aria-hidden=true href=#openresty>#</a></h1><p><a href=https://openresty.org/cn/>官网</a> <a href=https://github.com/openresty/openresty/releases>github latest</a></p><p>下载 <code>openresty-1.27.1.1-win64.zip</code> 并解压至 <code>D:\env\openresty</code></p><h2 id=使用>使用<a hidden class=anchor aria-hidden=true href=#使用>#</a></h2><pre tabindex=0><code># 启动
PS D:\env\openresty&gt; .\nginx.exe

# 停止（需在另一个命令窗口中）
PS D:\env\openresty&gt; .\nginx.exe -s stop

# 测试配置（需在另一个命令窗口中）
PS D:\env\openresty&gt; .\nginx.exe -t
nginx: the configuration file ./conf/nginx.conf syntax is ok
nginx: configuration file ./conf/nginx.conf test is successful

# 重载（需在另一个命令窗口中），需要先执行启动
PS D:\env\openresty&gt; .\nginx.exe -s reload
</code></pre><h2 id=openresty--php>openresty + php<a hidden class=anchor aria-hidden=true href=#openresty--php>#</a></h2><p>推荐使用 <code>phpstudy</code></p><blockquote><p>创建 <code>D:\env\openresty\conf\conf.d</code> 目录，并创建 <code>php.conf</code> 文件</p></blockquote><pre tabindex=0><code># openresty + php 测试
server {
    listen 2025;
    server_name localhost;

    location / {
        root   D:\\proj\\php\\demo;
        index  index.php index.html index.htm;
        try_files $uri $uri/ =404;
    }

    location ~ \.php$ {
    	root D:\\proj\\php\\demo;
        include fastcgi_params;
        fastcgi_pass 127.0.0.1:9008;  # 确保 PHP-FPM 监听端口正确
        fastcgi_index index.php;
        fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;
        fastcgi_param  PATH_INFO $fastcgi_script_name;
    }


    # 配置错误日志和访问日志
    error_log D:\\log\\php\\demo-error.log;
    access_log D:\\log\\php\\demo-access.log;
}
</code></pre><blockquote><p>修改 <code>D:\env\openresty\conf\nginx.conf</code> ，在 http {&mldr;} 中添加一行</p></blockquote><pre tabindex=0><code>include conf.d\\php.conf;
</code></pre><blockquote><p>测试</p></blockquote><pre tabindex=0><code># php-cgi 启动
PS D:\env\php&gt; .\php-cgi.exe -b 9000
</code></pre><pre tabindex=0><code># 重新加载 openresty
PS D:\env\openresty&gt; .\nginx.exe -s reload
</code></pre><p><code>D:\proj\php\demo</code> 中添加 <code>index.php</code> <code>url-test\test.php</code></p><pre tabindex=0><code># index.php
&lt;?php

echo phpinfo();


# url-test/test.php
&lt;?php

echo &#39;url-test&#39;;
</code></pre><blockquote><p>访问 <a href=http://localhost:2025>http://localhost:2025</a> <a href=http://localhost:2025/url-test/test.php>http://localhost:2025/url-test/test.php</a></p></blockquote></div><footer class=post-footer><ul class=post-tags><li><a href=https://rengchi.github.io/tags/%E7%8E%AF%E5%A2%83/>环境</a></li><li><a href=https://rengchi.github.io/tags/windows/>Windows</a></li></ul></footer></article></main><footer class=footer><span>&copy; 2025 <a href=https://rengchi.github.io/>仍迟</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>